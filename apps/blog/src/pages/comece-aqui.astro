---
/* src/pages/comece-aqui.astro */
import BaseLayout from "../layouts/BaseLayout.astro";
import ClusterCard from "../components/ClusterCard.astro";

// Adicione EXPORT aqui para liberar os dados para o index
export const hub = {
  slug: "comece-aqui",
  heroImage: "/hero/comece-aqui.jpg",

  title: "Comece aqui",
  subtitle: "Um mapa simples para entender o TDAH em adultos sem se perder no excesso.",

  forWho: [
    "Quem suspeita de TDAH e quer clareza sem julgamento",
    "Quem já tem diagnóstico e quer um caminho prático",
    "Família e profissionais buscando uma visão organizada",
  ],

  whatYouFind: [
    "O que é (e o que não é) TDAH",
    "Sinais em adultos e em mulheres",
    "Por onde começar sem culpa",
    "Ferramentas e próximos passos",
  ],

  clusters: [
    { title: "Entendendo o básico", href: "/categoria/entendendo-tdah", desc: "Conceitos, mitos e o essencial." },
    { title: "Diagnóstico tardio", href: "/categoria/diagnostico-adulto", desc: "O que muda depois dos 30." },
    { title: "Primeiros ajustes", href: "/categoria/foco-e-rotina", desc: "Pequenas alavancas que funcionam." },
  ],

  featured: [
    { title: "Entendendo o TDAH além dos estereótipos", href: "/post/entendendo-tdah", desc: "Base clara e honesta." },
    { title: "Diagnóstico de TDAH na vida adulta", href: "/post/diagnostico-adulto", desc: "O que ninguém te conta." },
    { title: "Estratégias reais para foco e rotina", href: "/post/foco-e-rotina", desc: "Ferramentas práticas." },
  ],

  cta: {
    title: "Quer um caminho guiado?",
    text: "Faça o quiz e receba um mapa de próximos passos por perfil.",
    primaryLabel: "Fazer o quiz",
    primaryHref: "/trilhas",
    secondaryLabel: "Ver trilhas",
    secondaryHref: "/trilhas",
  },

  faq: [
    { q: "Por onde começo se suspeito de TDAH?", a: "Comece por entender padrões e impacto funcional. Depois organize avaliação e suporte." },
    { q: "Isso substitui acompanhamento profissional?", a: "Não. Aqui é educação e organização de informação, não diagnóstico ou tratamento." },
    { q: "E se eu tiver ansiedade junto?", a: "É comum haver comorbidades. A ideia é separar sintomas e buscar cuidado com método." },
    { q: "O que eu faço hoje, na prática?", a: "Escolha 1 ajuste simples, 1 apoio externo e 1 rotina mínima por 7 dias." },
  ],
};

// SEO
const canonical = Astro.site
  ? new URL(`/${hub.slug}`, Astro.site).toString()
  : `/${hub.slug}`;
const ogImage = hub.heroImage;
---

<BaseLayout
  title={hub.title}
  description={hub.subtitle}
  canonical={canonical}
  ogImage={ogImage}
  ogType="website"
>
  <style>
    .hubHero {
      position: relative;
      overflow: hidden;
      border-bottom: 1px solid rgba(221, 214, 255, 0.14);
      background: #0b0b0c;
    }

    .hubHero::before {
      content: "";
      position: absolute;
      inset: 0;
      background-image:
        linear-gradient(
          90deg,
          rgba(11, 11, 12, 0.92) 0%,
          rgba(11, 11, 12, 0.78) 45%,
          rgba(11, 11, 12, 0.45) 100%
        ),
        var(--hub-hero, url("/hero/comece-aqui.jpg"));
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      filter: saturate(0.95) contrast(1.05);
      transform: scale(1.02);
    }

    .hubHero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(800px 500px at 20% 40%, rgba(110, 66, 167, 0.26), transparent 55%);
      pointer-events: none;
    }

    .hubHeroInner {
      position: relative;
      z-index: 1;
      max-width: 1100px;
      margin: 0 auto;
      padding: 46px 16px 26px;
    }

    .hubKicker {
      letter-spacing: 0.18em;
      text-transform: uppercase;
      font-size: 0.75rem;
      opacity: 0.85;
      margin: 0 0 10px 0;
      color: rgba(255, 255, 255, 0.88);
    }

    .hubTitle {
      font-size: clamp(2.2rem, 4vw, 3.2rem);
      line-height: 1.05;
      margin: 0 0 10px 0;
      color: rgba(255, 255, 255, 0.98);
    }

    .hubSubtitle {
      max-width: 70ch;
      opacity: 0.92;
      font-size: 1.05rem;
      line-height: 1.7;
      margin: 0 0 18px 0;
      color: rgba(255, 255, 255, 0.86);
    }

    .hubActions {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin: 10px 0 0 0;
    }

    .hubHeroCard {
      margin-top: 18px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(221, 214, 255, 0.16);
      border-radius: 14px;
      padding: 16px;
      color: rgba(255, 255, 255, 0.92);
      backdrop-filter: blur(8px);
    }

    .hubHeroCard strong { color: rgba(255, 255, 255, 0.98); }
    .hubHeroCard ul { margin: 10px 0 0 18px; }

    .hubWrap {
      max-width: 1100px;
      margin: 0 auto;
      padding: 20px 16px 46px;
    }

    .hubSection { margin: 0 0 24px 0; }
    .hubSectionTitle { margin: 0 0 14px 0; }

    .hubBox { padding: 16px; }
    .hubList { margin: 0 0 0 18px; }

    .hubGrid {
      display: grid;
      gap: 14px;
      grid-template-columns: 1fr;
    }

    @media (min-width: 720px) {
      .hubGrid--clusters { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .hubGrid--featured { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }

    @media (min-width: 1024px) {
      .hubGrid--clusters { grid-template-columns: repeat(3, minmax(0, 1fr)); }
      .hubGrid--featured { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }

    .hubTile {
      padding: 16px;
      text-decoration: none;
      display: block;
    }

    .hubTileTitle {
      font-weight: 750;
      margin: 0 0 6px 0;
    }

    .hubCTA { padding: 18px; }

    .hubFaq { display: grid; gap: 10px; }
    .hubFaqItem { padding: 14px; }

    .hubFaqSummary {
      cursor: pointer;
      font-weight: 700;
      list-style: none;
    }

    details > summary::-webkit-details-marker { display: none; }
  </style>

  <section class="hubHero" style={`--hub-hero: url('${hub.heroImage}')`}>
    <div class="hubHeroInner">
      <p class="hubKicker">HUB</p>

      <h1 class="hubTitle">{hub.title}</h1>
      <p class="hubSubtitle">{hub.subtitle}</p>

      <div class="hubActions">
        <a class="ds-btn ds-btn-primary" href={hub.cta.primaryHref}>{hub.cta.primaryLabel}</a>
        <a class="ds-btn ds-btn-outline" href={hub.cta.secondaryHref}>{hub.cta.secondaryLabel}</a>
      </div>

      <div class="hubHeroCard">
        <strong>Para quem é</strong>
        <ul>
          {hub.forWho.map((x) => <li>{x}</li>)}
        </ul>
      </div>
    </div>
  </section>

  <div class="hubWrap">
    <section class="hubSection">
      <h2 class="hubSectionTitle">O que você vai encontrar aqui</h2>
      <div class="ds-card hubBox">
        <ul class="hubList">
          {hub.whatYouFind.map((x) => <li>{x}</li>)}
        </ul>
      </div>
    </section>

    <section class="hubSection">
      <h2 class="hubSectionTitle">Clusters</h2>

      <div class="hubGrid hubGrid--clusters">
        {hub.clusters.map((c) => <ClusterCard cluster={c} />)}
      </div>
    </section>

    <section class="hubSection">
      <h2 class="hubSectionTitle">Comece por aqui</h2>

      <div class="hubGrid hubGrid--featured">
        {hub.featured.map((p) => (
          <a class="ds-card hubTile" href={p.href}>
            <div class="hubTileTitle">{p.title}</div>
            <div class="ds-muted">{p.desc}</div>
          </a>
        ))}
      </div>
    </section>

    <section class="hubSection">
      <div class="ds-card ds-card--feature hubCTA">
        <h2 style="margin:0 0 8px 0;">{hub.cta.title}</h2>
        <p class="ds-muted" style="margin:0 0 14px 0; line-height:1.7;">{hub.cta.text}</p>

        <div class="hubActions">
          <a class="ds-btn ds-btn-primary" href={hub.cta.primaryHref}>{hub.cta.primaryLabel}</a>
          <a class="ds-btn ds-btn-outline" href={hub.cta.secondaryHref}>{hub.cta.secondaryLabel}</a>
        </div>
      </div>
    </section>

    <section class="hubSection">
      <h2 class="hubSectionTitle">FAQ</h2>

      <div class="hubFaq">
        {hub.faq.map((f) => (
          <details class="ds-card hubFaqItem">
            <summary class="hubFaqSummary">{f.q}</summary>
            <p class="ds-muted" style="margin:10px 0 0 0; line-height:1.7;">{f.a}</p>
          </details>
        ))}
      </div>
    </section>
  </div>
</BaseLayout>