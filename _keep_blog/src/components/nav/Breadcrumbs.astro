---
type Crumb = { label: string; href?: string };

const { items } = Astro.props as { items: Crumb[] };

const safe = (items ?? []).filter(Boolean);
---
{safe.length > 0 && (
  <nav class="ui-breadcrumbs" aria-label="Breadcrumb">
    <ol class="ui-breadcrumbs__list">
      {safe.map((c, idx) => {
        const isLast = idx === safe.length - 1;
        return (
          <li class="ui-breadcrumbs__item">
            {c.href && !isLast ? (
              <a class="ui-breadcrumbs__link" href={c.href}>{c.label}</a>
            ) : (
              <span class="ui-breadcrumbs__current" aria-current={isLast ? "page" : undefined}>
                {c.label}
              </span>
            )}
          </li>
        );
      })}
    </ol>
  </nav>
)}